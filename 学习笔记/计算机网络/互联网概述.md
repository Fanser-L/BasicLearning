# 互联网概述

## 网络的网络

计算机网络，由若干**结点**和连接这些结点的**链路**组成。
网络中的结点可以是计算机，集线器，交换机，路由器等等。
网络之间还可以通过路由器来连接起来，这样就构成了一个更大的计算机网络。因此，互联网是**网络的网络**
网络把许多计算机连接在一起，而互联网则吧许多网络通过路由器连接在一起。而网络连接的计算常称为主机。

## 互联网基础结构发展的三个阶段

### 第一阶段

**internet（互连网）** 是个通用名词，泛指有多个计算机网络而组成的网络。这些网络之间的通信协议可以任选，不一定非要使用TCP/IP协议。
**Internet（互联网）** 是个专有名词，指当前全球最大的，开放的，由众多网络相互连接而成的特定互连网。
任意吧几个计算机网络连接起来，不管使用的是何种协议，并且能够进行通信，这样构成的是一个**互连网**而不是**互联网**

### 第二阶段

建成了**三级结构的互联网**。
分为**主干网，地区网，校园网**

### 第三阶段

逐渐形成了**多层次的ISP结构的互联网**，isp 全称 internet service provider 互联网服务供应商。如中国移动等等。
连接路径：
**主机A-本地isp-地区isp-主干isp-地区isp-本地isp-主机B**。

## 互联网的标准化工作

国际性组织：**互联网协会 ISOC**
....等等

## 互联网的组成

互联网的拓扑结构非常复杂，但是工作方式上可以划分为两大块：

1、**边缘部分** 由所有连接互联网的主机组成，这部分是用户直接使用的，用来进行通信和资源共享

2、**核心部分** 由大量网络和连接这些网络的路由器组成。这部分是**为边缘提供服务的**

### 互联网的边缘部分

主机A和主机B进行通信其实是指主机A上的某个进程和主机B上的某个进程进行通信，简称：**计算机之间的通信**
系统间的通信方式可以划分为两大类：客户-服务器方式 和 对等方式

1、**客户-服务器方式**
客户是服务请求方，服务器是服务提供方
之后就是javaweb上学过的内容 分为客户端程序和服务器端程序

2、**对等连接方式**
双方都可以下载对方已经存储在硬盘中的共享文档，这种工作方式也被称为P2P方式，详细内容在后面第六章。

### 互联网的核心部分

在互联网中核心部分中起特殊作用的是**路由器**，这是一种专用计算机。路由器的任务是实现**分组交换**的关键构件，任务是转发收到的分组。

##### 分组交换

各种网络应用中，端系统彼此交换**报文**，为了从根源端系统发送一个报文，源将报文长度分为较小的数据块，称之为**分组**。在源和目的地之间，每个分组都通过通信链路和**分组交换机**。

1、**存储转发传输**
多数交换机在链路的输入端使用**存储转发传输**机制。先在路由器端对数据进行**缓存**之后再向链路中输出。

2、**排队时延和分组丢失**
分组交换机有缓存机制，但是传输过来的数据是要进行排队等待的，有时候后面到达的数据已经没有空间对之进行缓存了，所以会出现**丢包**现象，已到达或者已经排队的分组之一将被丢弃，这样被称为**分组丢失**。

3、**转发表和路由选择协议**
每台路由器都具有一个转发表，同时路由器具有一些特殊的协议，比如说数据结构课上学过的**最短路径算法**，所以在这里就是**最短路由协议**。

分组交换中的时延类型：
**1.处理时延**，分组首部是有字节码的，来确定是传向哪里的数据，判断传向哪里是需要时间的，有时间需求就会发生时延。
**2.排队时延**，前面讲的，存入缓存时可能会经历排队过程，这一过程就会产生时延。
**3.传输时延**，对于数据包而言，数据的传输也是有速度上限的，所以传输也需要时间，需要时间就会有时延。
**4.传播时延**，这个是物理上的，传输电也需要时间，A到B是有一定的时间延迟的。

##### 电路交换

简单的讲，就是实打实的连接。有恒定的速率，稳定好用。
链路中的电路分为**时分复用**和**频分复用**。

**分组交换与电路交换的对比**：
分组交换不适合实时服务，但是 1.提供了比电路交换更好的宽带共享 2.比电路交换更简单有效，成本更低

## 协议层次以及服务模型 OSI模型

为了给网络协议设计一个结构，网络设计者使用了**分层**的方式组织协议来实现协议中的网络硬件和软件。同时每一层都具有不同的**服务**。
各层所有的协议都被称为**协议栈**。

### **协议栈**

**应用层（数据报）
运输层（段）
网络层（包）
链路层（帧）
物理层（字节流）**

### OSI模型

**应用层
表示层
会话层**

**运输层
网络层
链路层
物理层**

### TCP/IP的四层协议

**应用层（各种应用协议TELNET，FTP，SMTP）
运输层（TCP或UDP）
网络层 IP**

**网络层接口**

网络协议三要素：
**语法**：数据与控制信息的结构或格式
**语义**：需要发出何种控制信息，完成何种动作以及做出何种响应
**同步**：事件实现顺序的详细说明